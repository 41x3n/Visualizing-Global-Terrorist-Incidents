<html>
<head>
    <title>Visualization using FusionCharts Suite XT</title>
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
<!-- Include fusion theme -->
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script> 

</head>
<body>
    <div id="chart-container">FusionCharts XT will load here!</div>
    <% var a = data; %>
    <script type="text/javascript">

    //     var data2015 = [
    //     {
    //         "value": 492
    //     },
    //     {
    //         "value": 698
    //     },
    //     {
    //         "value": 722
    //     },
    //     {
    //         "value": 412
    //     },
    //     {
    //         "value": 363
    //     },
    //     {
    //         "value": 1023
    //     },
    //     {
    //         "value": 807
    //     },
    //     {
    //         "value": 1340
    //     },
    //     {
    //         "value": 557
    //     },
    //     {
    //         "value": 990
    //     },
    //     {
    //         "value": 1121
    //     },
    //     {
    //         "value": 828
    //     }
    // ];

    // var data2016 = [
    //     {
    //         "value": 1088
    //     },
    //     {
    //         "value": 1288
    //     },
    //     {
    //         "value": 2114
    //     },
    //     {
    //         "value": 1789
    //     },
    //     {
    //         "value": 2182
    //     },
    //     {
    //         "value": 2600
    //     },
    //     {
    //         "value": 2472
    //     },
    //     {
    //         "value": 4233
    //     },
    //     {
    //         "value": 984
    //     },
    //     {
    //         "value": 1281
    //     },
    //     {
    //         "value": 1301
    //     },
    //     {
    //         "value": 1223
    //     }
    // ];

    // var data2017 = [
    //     {
    //         "value": 1209
    //     },
    //     {
    //         "value": 1142
    //     },
    //     {
    //         "value": 941
    //     },
    //     {
    //         "value": 908
    //     },
    //     {
    //         "value": 2580
    //     },
    //     {
    //         "value": 1412
    //     },
    //     {
    //         "value": 1012
    //     },
    //     {
    //         "value": 1129
    //     },
    //     {
    //         "value": 732
    //     },
    //     {
    //         "value": 1075
    //     },
    //     {
    //         "value": 891
    //     },
    //     {
    //         "value": 812
    //     }
    // ];

    // var data2018 = [
    //     {
    //         "value": 1312
    //     },
    //     {
    //         "value": 1100
    //     },
    //     {
    //         "value": 1053
    //     },
    //     {
    //         "value": 926
    //     },
    //     {
    //         "value": 1266
    //     },
    //     {
    //         "value": 1297
    //     },
    //     {
    //         "value": 1602
    //     },
    //     {
    //         "value": 684
    //     },
    //     {
    //         "value": 1073
    //     },
    //     {
    //         "value": 1534
    //     },
    //     {
    //         "value": 1711
    //     },
    //     {
    //         "value": 895
    //     }
    // ];
        var data = <%-JSON.stringify(a)%>;
        console.log(data);
        var q = data.data_2015;
        console.log(q);

    const dataSource = {
    chart: {
        caption: "Global Terrorist Incident [Injury-Wise]",
        yaxisname: "",
        subcaption: "2015-2018",
        showhovereffect: "1",
        numbersuffix: "",
        drawcrossline: "1",
        plottooltext: "<b>$dataValue</b> people were injured on $label",
        theme: "fusion"
    },
    categories: [
        {
        category: [
            {
            label: "January"
            },
            {
            label: "February"
            },
            {
            label: "March"
            },
            {
            label: "April"
            },
            {
            label: "May"
            },
            {
            label: "June"
            },
            {
            label: "July"
            },
            {
            label: "August"
            },
            {
            label: "September"
            },
            {
            label: "October"
            },
            {
            label: "November"
            },
            {
            label: "December"
            }
        ]
        }
    ],
    dataset: [
        {
        seriesname: "2015",
        data: data.data_2015
        },
        {
        seriesname: "2016",
        data: data.data_2016
        },
        {
        seriesname: "2017",
        data: data.data_2017
        },
        {
        seriesname: "2018",
        data: data.data_2018
        }
    ]
    };

    FusionCharts.ready(function() {
    var myChart = new FusionCharts({
        type: "msline",
        renderAt: "chart-container",
        width: "100%",
        height: "100%",
        dataFormat: "json",
        dataSource
    }).render();
});

</script>
    </body>
</html>